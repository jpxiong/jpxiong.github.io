<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Start Github and Hexo | jpxiong</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Start Github and Hexo</h1><a id="logo" href="/.">jpxiong</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Start Github and Hexo</h1><div class="post-meta">Apr 9, 2016<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>朋友的推荐下，在 Github 上面搭建了 Hexo blog，一看自动生成的是 Markdown 文件，有点小兴奋。根据<a href="http://www.jianshu.com/p/05289a4bc8b2" target="_blank" rel="external">如何搭建一个独立博客——简明 Github Pages 与 Hexo 教程</a>，一步一步搭建起来，在此简要记录操作步骤以及遇到的问题。</p>
<h2 id="1-0-创建-repo"><a href="#1-0-创建-repo" class="headerlink" title="1.0. 创建 repo"></a>1.0. 创建 repo</h2><p>在 github 上创建 jpxiong.github.io repo</p>
<blockquote>
<p>⚠ jpxiong.github.io 是因为我的 Github ID 是 jpxiong，如果你的 ID 为 xxx，那么就应该创建 xxx.github.io</p>
</blockquote>
<h2 id="1-1-安装-npm"><a href="#1-1-安装-npm" class="headerlink" title="1.1. 安装 npm"></a>1.1. 安装 npm</h2><p>由于之前没有使用过 npm 包管理工具，所以需要安装 npm<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install npm</span><br></pre></td></tr></table></figure></p>
<h2 id="1-2-安装-hexo"><a href="#1-2-安装-hexo" class="headerlink" title="1.2. 安装 hexo"></a>1.2. 安装 hexo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo</span><br></pre></td></tr></table></figure>
<h2 id="1-3-初始化-hexo"><a href="#1-3-初始化-hexo" class="headerlink" title="1.3. 初始化 hexo"></a>1.3. 初始化 hexo</h2><p>在自己的工作目录下（myworkspace）创建 hexo 目录并初始化 hexo：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myworkspace jerikc$ mkdir -p hexo</span><br><span class="line">myworkspace jerikc$ cd hexo</span><br><span class="line">hexo jerikc$ hexo init</span><br></pre></td></tr></table></figure></p>
<h2 id="1-4-尝鲜-hexo"><a href="#1-4-尝鲜-hexo" class="headerlink" title="1.4. 尝鲜 hexo"></a>1.4. 尝鲜 hexo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo jerikc$ hexo g</span><br><span class="line">hexo jerikc$ hexo s</span><br></pre></td></tr></table></figure>
<p>在浏览器中输入 <a href="http://0.0.0.0:4000/" target="_blank" rel="external">http://0.0.0.0:4000/</a> 进行预览。</p>
<h2 id="1-5-更换-theme"><a href="#1-5-更换-theme" class="headerlink" title="1.5. 更换 theme"></a>1.5. 更换 theme</h2><p>在 <a href="https://hexo.io/themes/" target="_blank" rel="external">hexo themes</a> 去寻找你喜欢的 theme，我这里选择的是 <a href="https://github.com/tufu9441/maupassant-hexo" target="_blank" rel="external">maupassant</a>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo jerikc$ git clone git@github.com:tufu9441/maupassant-hexo.git themes/maupassant</span><br></pre></td></tr></table></figure>
<p>将 <code>myworkspace/hexo/_config.yml</code> 中的 theme 由默认的 landscape 更改为 maupassant。</p>
<p>更新之后，执行 <code>hexo g</code>，报如下错误：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">INFO  Start processing</span><br><span class="line">ERROR Process failed: layout/archive.jade</span><br><span class="line">TypeError: Cannot read property &apos;compile&apos; of undefined</span><br><span class="line">    at View._precompile (/Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo/lib/theme/view.js:104:22)</span><br><span class="line">    at View (/Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo/lib/theme/view.js:13:8)</span><br><span class="line">    at new Theme._View.View (/Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo/lib/theme/index.js:37:10)</span><br><span class="line">    at Theme.setView (/Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo/lib/theme/index.js:71:20)</span><br><span class="line">    at /Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo/lib/theme/processors/view.js:14:14</span><br><span class="line">    at tryCatcher (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">    at Promise._settlePromiseFromHandler (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:503:31)</span><br><span class="line">    at Promise._settlePromise (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:560:18)</span><br><span class="line">    at Promise._settlePromise0 (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:605:10)</span><br><span class="line">    at Promise._settlePromises (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:684:18)</span><br><span class="line">    at Promise._fulfill (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:629:18)</span><br><span class="line">    at Promise._resolveCallback (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:424:57)</span><br><span class="line">    at Promise._settlePromiseFromHandler (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:515:17)</span><br><span class="line">    at Promise._settlePromise (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:560:18)</span><br><span class="line">    at Promise._settlePromise0 (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:605:10)</span><br><span class="line">    at Promise._settlePromises (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:684:18)</span><br><span class="line">    at Promise._fulfill (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:629:18)</span><br><span class="line">    at /Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/nodeback.js:42:21</span><br><span class="line">    at /Users/jerikc/workdir/myworkspace/hexo/node_modules/graceful-fs/graceful-fs.js:78:16</span><br><span class="line">    at tryToString (fs.js:414:3)</span><br><span class="line">    at FSReqWrap.readFileAfterClose [as oncomplete] (fs.js:401:12)</span><br><span class="line">ERROR Process failed: layout/post.jade</span><br><span class="line">TypeError: Cannot read property &apos;compile&apos; of undefined</span><br><span class="line">    at View._precompile (/Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo/lib/theme/view.js:104:22)</span><br><span class="line">    at View (/Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo/lib/theme/view.js:13:8)</span><br><span class="line">    at new Theme._View.View (/Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo/lib/theme/index.js:37:10)</span><br><span class="line">    at Theme.setView (/Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo/lib/theme/index.js:71:20)</span><br><span class="line">    at /Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo/lib/theme/processors/view.js:14:14</span><br><span class="line">    at tryCatcher (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">    at Promise._settlePromiseFromHandler (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:503:31)</span><br><span class="line">    at Promise._settlePromise (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:560:18)</span><br><span class="line">    at Promise._settlePromise0 (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:605:10)</span><br><span class="line">    at Promise._settlePromises (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:684:18)</span><br><span class="line">    at Promise._fulfill (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:629:18)</span><br><span class="line">    at Promise._resolveCallback (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:424:57)</span><br><span class="line">    at Promise._settlePromiseFromHandler (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:515:17)</span><br><span class="line">    at Promise._settlePromise (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:560:18)</span><br><span class="line">    at Promise._settlePromise0 (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:605:10)</span><br><span class="line">    at Promise._settlePromises (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:684:18)</span><br><span class="line">    at Promise._fulfill (/Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/promise.js:629:18)</span><br><span class="line">    at /Users/jerikc/workdir/myworkspace/hexo/node_modules/bluebird/js/release/nodeback.js:42:21</span><br><span class="line">    at /Users/jerikc/workdir/myworkspace/hexo/node_modules/graceful-fs/graceful-fs.js:78:16</span><br><span class="line">    at tryToString (fs.js:414:3)</span><br><span class="line">    at FSReqWrap.readFileAfterClose [as oncomplete] (fs.js:401:12)</span><br><span class="line"></span><br><span class="line">    ....</span><br><span class="line"></span><br><span class="line">    INFO  Files loaded in 1.44 s</span><br><span class="line">    WARN  No layout: 2016/04/09/hello-world/index.html</span><br><span class="line">    WARN  No layout: archives/index.html</span><br><span class="line">    WARN  No layout: archives/2016/index.html</span><br><span class="line">    WARN  No layout: archives/2016/04/index.html</span><br><span class="line">    WARN  No layout: index.html</span><br></pre></td></tr></table></figure></p>
<p>根据 <a href="https://github.com/tufu9441/maupassant-hexo/blob/master/README.md" target="_blank" rel="external">REDAME</a> 里面的描述，执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-renderer-jade --save</span><br><span class="line">$ npm install hexo-renderer-sass --save</span><br></pre></td></tr></table></figure></p>
<p>生成成功。</p>
<h2 id="1-6-Hexo-Deploy"><a href="#1-6-Hexo-Deploy" class="headerlink" title="1.6. Hexo Deploy"></a>1.6. Hexo Deploy</h2><p>根据 <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Hexo Deployment</a> 的描述，更改了 <code>myworkspace/hexo/_config.yml</code> 的 deploy 节点如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:jpxiong/jpxiong.github.io.git</span><br></pre></td></tr></table></figure></p>
<p>在执行 <code>hexo d</code> 的时候得到如下错误：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">INFO  Deploying: git</span><br><span class="line">INFO  Clearing .deploy_git folder...</span><br><span class="line">INFO  Copying files from public folder...</span><br><span class="line">fatal: Not a git repository (or any of the parent directories): .git</span><br><span class="line">FATAL Something&apos;s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html</span><br><span class="line">Error: fatal: Not a git repository (or any of the parent directories): .git</span><br><span class="line"></span><br><span class="line">    at ChildProcess.&lt;anonymous&gt; (/Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo-util/lib/spawn.js:37:17)</span><br><span class="line">    at emitTwo (events.js:87:13)</span><br><span class="line">    at ChildProcess.emit (events.js:172:7)</span><br><span class="line">    at maybeClose (internal/child_process.js:818:16)</span><br><span class="line">    at Socket.&lt;anonymous&gt; (internal/child_process.js:319:11)</span><br><span class="line">    at emitOne (events.js:77:13)</span><br><span class="line">    at Socket.emit (events.js:169:7)</span><br><span class="line">    at Pipe._onclose (net.js:469:12)</span><br><span class="line">FATAL fatal: Not a git repository (or any of the parent directories): .git</span><br><span class="line"></span><br><span class="line">Error: fatal: Not a git repository (or any of the parent directories): .git</span><br><span class="line"></span><br><span class="line">    at ChildProcess.&lt;anonymous&gt; (/Users/jerikc/workdir/myworkspace/hexo/node_modules/hexo-util/lib/spawn.js:37:17)</span><br><span class="line">    at emitTwo (events.js:87:13)</span><br><span class="line">    at ChildProcess.emit (events.js:172:7)</span><br><span class="line">    at maybeClose (internal/child_process.js:818:16)</span><br><span class="line">    at Socket.&lt;anonymous&gt; (internal/child_process.js:319:11)</span><br><span class="line">    at emitOne (events.js:77:13)</span><br><span class="line">    at Socket.emit (events.js:169:7)</span><br><span class="line">    at Pipe._onclose (net.js:469:12)</span><br></pre></td></tr></table></figure></p>
<p>根据 <a href="http://jackraken.github.io/2014/07/16/new_post2/" target="_blank" rel="external">jackraken 的建议</a>，删除 <code>.deploy_git</code> ，再次部署即可成功。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rm -rf .deploy_git/</span><br></pre></td></tr></table></figure></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2016/04/09/Start-Github-and-Hexo/" data-id="cimszhx620000j1xt2wfzxjil" class="article-share-link">分享到</a><div class="tags"></div><div class="post-nav"><a href="/2016/04/09/hello-world/" class="next">Hello World</a></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/04/09/Start-Github-and-Hexo/">Start Github and Hexo</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/09/hello-world/">Hello World</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">jpxiong.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>